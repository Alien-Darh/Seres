
darhmod_astanine_duplicated_home_system_hide_effect = {
	if = {
		limit = {
			count_system = {
				limit = {
					has_star_flag = darhmod_astanine_home_system
					any_system_planet = {
						exists = archaeological_site
						archaeological_site = { is_site_type = DARH_astanine_site_5 }
					}
				}
				count > 1
			}
		}
		random_system = {
			limit = {
				has_star_flag = darhmod_astanine_home_system
				any_system_planet = {
					exists = archaeological_site
					archaeological_site = { is_site_type = DARH_astanine_site_5 }
				}
			}
			random_system_megastructure = {
				limit = { is_megastructure_type = ring_world_ruined }
				delete_megastructure = this
			}
			every_system_planet = {
				limit = { is_star = no }
				remove_planet = yes
			}
			star = { change_pc = pc_black_hole }
			isolate_system = yes
		}
	}
	else_if = {
		limit = {
			count_system = {
				limit = { has_star_flag = darhmod_astanine_home_system }
				count > 1
			}
			count_system = {
				limit = {
					has_star_flag = darhmod_astanine_home_system
					any_system_planet = {
						exists = archaeological_site
						archaeological_site = { is_site_type = DARH_astanine_site_5 }
					}
				}
				count = 1
			}
		}
		random_system = {
			limit = {
				NOT = {
					any_system_planet = {
						exists = archaeological_site
						archaeological_site = { is_site_type = DARH_astanine_site_5 }
					}
				}
				has_star_flag = darhmod_astanine_home_system
			}
			random_system_megastructure = {
				limit = { is_megastructure_type = ring_world_ruined }
				delete_megastructure = this
			}
			every_system_planet = {
				limit = { is_star = no }
				remove_planet = yes
			}
			star = { change_pc = pc_black_hole }
			isolate_system = yes
		}
	}
}