
building_affluence_centerx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_hyper_entertainment_forumx
	
	category = resource	
	
	prerequisites = { "tech_affluence_center" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_affluence_center" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_artisan_add = 15
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_artisan_drone_add = 15
		}
	}
	
	resources = {
		category = planet_buildings
		produces = {
			minor_artifacts = 0.05
		}
		cost = {
			minerals = 800
		}
		upkeep = {
			minerals = 250
			energy = 100
		}
	}

	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_nourishment_centerx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_food_processing_center

	category = resource
	
	prerequisites = { "tech_nourishment_center" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_nourishment_center" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_farmer_add = 10
			planet_farmers_food_produces_mult = 0.25
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_agri_drone_add = 10
			planet_farmers_food_produces_mult = 0.25			
		}
	}
	
	resources = {
		category = planet_buildings		
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_dimensional_fabricatorx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_nanite_transmuter
	
	prerequisites = { "tech_dimensional_fabricator" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_dimensional_fabricator" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	resources = {
		category = planet_buildings
		produces = {
			sr_zro = 1
			sr_dark_matter = 1
			sr_living_metal = 1		
		}
		cost = {
			minerals = 1000
		}
		upkeep = {
			energy = 100
		}
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}


building_class_4_singularityx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_class_4_singularity
	
	category = resource	

	prerequisites = { "tech_class_4_singularity" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_class_4_singularity" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_technician_add = 20
			planet_technician_energy_produces_mult = 0.25
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_technician_drone_add = 20
			planet_technician_energy_produces_mult = 0.25		
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_technician_add = 20
			planet_technician_energy_produces_mult = 0.25
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_technician_add = 20
			planet_technician_energy_produces_mult = 0.25
		}		
	}
	
	resources = {
		category = planet_buildings
		produces = {
			energy = 50
		}		
		cost = {
			minerals = 800
		}		
		upkeep = {
			minerals = 100
		}
	}

	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}
	
	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}
	
	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_nano_forgex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_nano_forge

	category = manufacturing
	
	prerequisites = { "tech_nano_forge" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_nano_forge" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_foundry_add = 25
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_alloy_drone_add = 25
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_fabricator_add = 25
		}
	}
	
	resources = {
		category = planet_buildings
		produces = {
			alloys = 50
		}
		cost = {
			minerals = 800
		}
		upkeep = {
			minerals = 250
			energy = 100
		}
	}

	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_master_archivex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_master_archive
	
	category = research	
	
	prerequisites = { "tech_master_archive" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_master_archive" }				
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {	
			job_researcher_add = 15
			job_researcher_add = 5			
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_brain_drone_add = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_calculator_add = 5
		}
	}

	resources = {
		category = planet_building
		produces = {
			physics_research = 50
			society_research = 50
			engineering_research = 50
		}
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_fe_domex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_paradise_dome	
	
	prerequisites = { "tech_utopian_paradise_dome" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_utopian_paradise_dome" }
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	planet_modifier = {
		planet_housing_add = 20
		planet_amenities_add = 20
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}

	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}

building_fe_strongholdx = {
	base_buildtime = 900
	can_demolish = yes	
	base_cap_amount = 1		
	icon = building_fortress

	prerequisites = { "tech_fe_stronghold" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				#owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_fe_stronghold" }
				owner = {
					has_country_flag = darhmod_precursor_seres_finished
					NOT = {
						has_country_flag = built_one_ministry_seres
					}
				}
			}
		}
		NOT = { has_modifier = slave_colony }
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}
	
	convert_to = {
		building_fortress
	}
	
	planet_modifier = {
		job_fe_protector_add = 5
		planet_orbital_bombardment_damage = -0.25		
	}
	
	army_modifier = {
		army_starting_experience_add = 100
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = { remove_country_flag = darhmod_precursor_seres_finished }
	}

	on_unqueued = {
		owner = { set_country_flag = darhmod_precursor_seres_finished }
	}

	on_built = {
		owner = { set_country_flag = built_one_ministry_seres }
	}

	on_destroy = {
		owner = {
			if = {
				limit = {
					has_country_flag = built_one_ministry_seres
				}
				remove_country_flag = built_one_ministry_seres
				set_country_flag = darhmod_precursor_seres_finished
			}
		}
	}

	ai_weight = {
		weight = 2
		modifier = {
			factor = 0
			is_planet_class = pc_habitat
		}
	}
}