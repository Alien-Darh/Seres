
building_affluence_centerx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_hyper_entertainment_forumx
	
	category = resource	
	
	prerequisites = { "tech_affluence_center" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_affluence_center" }
				check_variable = { which = affluence_centerx_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_artisan_add = 10
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_artisan_drone_add = 10
		}
	}
	
	resources = {
		category = planet_buildings
		produces = {
			minor_artifacts = 0.05
			consumer_goods = 50			
		}
		cost = {
			minerals = 800
		}
		upkeep = {
			minerals = 250
			energy = 100
		}
	}

	on_queued = {
		owner = {
			subtract_variable = { which = affluence_centerx_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = affluence_centerx_build_count value = 1 }
		}
	}
}

building_nourishment_centerx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_food_processing_centerx

	category = resource
	
	prerequisites = { "tech_nourishment_center" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_nourishment_center" }
				check_variable = { which = nourishment_centerx_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_farmer_add = 10
			planet_farmers_food_produces_mult = 0.25
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_agri_drone_add = 10
			planet_farmers_food_produces_mult = 0.25			
		}
	}
	
	resources = {
		category = planet_buildings		
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = {
			subtract_variable = { which = nourishment_centerx_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = nourishment_centerx_build_count value = 1 }
		}
	}
}

building_dimensional_fabricatorx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_nanite_transmuterx
	
	prerequisites = { "tech_dimensional_fabricator" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_dimensional_fabricator" }
				check_variable = { which = dimensional_fabricatorx_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	resources = {
		category = planet_buildings
		produces = {
			sr_zro = 1
			sr_dark_matter = 1
			sr_living_metal = 1		
		}
		cost = {
			minerals = 1000
		}
		upkeep = {
			energy = 100
		}
	}

	on_queued = {
		owner = {
			subtract_variable = { which = dimensional_fabricatorx_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = dimensional_fabricatorx_build_count value = 1 }
		}
	}
}


building_class_4_singularityx = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_class_4_singularityx
	
	category = resource	

	prerequisites = { "tech_class_4_singularity" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_class_4_singularity" }
				check_variable = { which = class_4_singularityx_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_technician_add = 10
			planet_technician_energy_produces_mult = 0.10
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_technician_drone_add = 10
			planet_technician_energy_produces_mult = 0.10	
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_technician_add = 10
			planet_technician_energy_produces_mult = 0.10
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_technician_add = 10
			planet_technician_energy_produces_mult = 0.10
		}		
	}
	
	resources = {
		category = planet_buildings
		produces = {
			energy = 100
		}		
		cost = {
			minerals = 800
		}		
		upkeep = {
			minerals = 100
		}
	}

	on_queued = {
		owner = {
			subtract_variable = { which = class_4_singularityx_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = class_4_singularityx_build_count value = 1 }
		}
	}
}

building_nano_forgex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_nano_forgex

	category = manufacturing
	
	prerequisites = { "tech_nano_forge" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_nano_forge" }
				check_variable = { which = nano_forgex_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {
			job_foundry_add = 10
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_alloy_drone_add = 10
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_fabricator_add = 10
		}
	}
	
	resources = {
		category = planet_buildings
		produces = {
			alloys = 75
		}
		cost = {
			minerals = 800
		}
		upkeep = {
			minerals = 250
			energy = 100
		}
	}

	on_queued = {
		owner = {
			subtract_variable = { which = nano_forgex_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = nano_forgex_build_count value = 1 }
		}
	}
}

building_master_archivex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_master_archivex
	
	category = research	
	
	prerequisites = { "tech_master_archive" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_master_archive" }
				check_variable = { which = master_archivex_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		modifier = {	
			job_researcher_add = 10
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		modifier = {
			job_brain_drone_add = 10
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		modifier = {
			job_calculator_add = 10
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}		
		produces = {
			physics_research = 50
			engineering_research = 50
			society_research = 50
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = {
			subtract_variable = { which = master_archivex_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = master_archivex_build_count value = 1 }
		}
	}
}

building_fe_domex = {
	base_buildtime = 900
	can_demolish = yes
	base_cap_amount = 1
	icon = building_paradise_domex
	
	prerequisites = { "tech_utopian_paradise_dome" }	

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_utopian_paradise_dome" }
				check_variable = { which = fe_domex_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	planet_modifier = {
		planet_housing_add = 20
		planet_amenities_add = 20
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}

	on_queued = {
		owner = {
			subtract_variable = { which = fe_domex_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = fe_domex_build_count value = 1 }
		}
	}
}

building_fe_strongholdx = {
	base_buildtime = 900
	can_demolish = yes	
	base_cap_amount = 1		
	icon = building_fortressx

	prerequisites = { "tech_fe_stronghold" }

	allow = {
		has_major_upgraded_capital = yes
	}
	
	potential = {
		custom_tooltip = {
			text = EMPIRE_UNIQUE_BUILDING
			OR = {
				owner = { is_regular_empire = yes }
				owner = { has_technology = "tech_fe_stronghold" }
				check_variable = { which = fe_strongholdx_build_count value >= 1 }
			}
		}
		NOT = { has_modifier = slave_colony }
	}
	
	convert_to = {
		building_fortress
	}
	
	planet_modifier = {
		job_fe_protector_add = 2
		planet_orbital_bombardment_damage = -0.25		
	}
	
	army_modifier = {
		army_starting_experience_add = 100
	}
	
	resources = {
		category = planet_buildings
		cost = {
			minerals = 800
		}
		upkeep = {
			energy = 100
		}
	}
	
	on_queued = {
		owner = {
			subtract_variable = { which = fe_strongholdx_build_count value = 1 }
		}
	}

	on_unqueued = {
		owner = {
			change_variable = { which = fe_strongholdx_build_count value = 1 }
		}
	}
}