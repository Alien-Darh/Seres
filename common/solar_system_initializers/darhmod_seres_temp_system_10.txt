@distance = 50
@base_moon_distance = 10

darhmod_seres_temp_system_10 = {
	class = sc_black_hole
	usage = misc_system_init	
	usage_odds = 0
	
	asteroid_belt = {
		type = rocky_asteroid_belt
		radius = 100
	}
	
	flags = { guardians_dreadnought_system guardian hostile_system }	
	flags = { darhmod_seres_temp_system }
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
		flags = { patrol_1 }
		
		init_effect = {
			save_event_target_as = dreadnought_sun
			create_country = {
				name = "NAME_Automated_Dreadnought"
				type = guardian_dreadnought
				flag = {
					icon = {
						category = "spherical"
						file = "flag_spherical_6.dds"
					}
					background = {
						category = "backgrounds"
						file = "00_solid.dds"
					}
					colors={
						"red"
						"red"
						"null"
						"null"
					}
				}
			}
			last_created_country = {
				if = {
					limit = {
						NOT = {
							has_modifier = dreadnought_power
						}
					}
					add_modifier = {
						modifier = dreadnought_power
						days = -1
					}
				}					
				save_global_event_target_as = automated_dreadnought_country
				set_country_flag = automated_dreadnought_country
			}
			create_fleet = {
				name = "NAME_Automated_Dreadnought"
				settings = {
					spawn_debris = no
					is_boss = yes
				}
				effect = {
					set_owner = event_target:automated_dreadnought_country
					save_global_event_target_as = automated_dreadnought
					create_ship = {
						name = "NAME_JuukTidir"
						design = "NAME_Relic"
						graphical_culture = "npf_01_dirty"
					}
					set_location = {
						target = event_target:dreadnought_sun
						distance = 0
						angle = random
					}
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = return_point
					set_aggro_range = 350
					
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = {
									id = dreadnought.patrol.11
									has_planet_flag = patrol_1
								}
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = {
										duration = 30
									}
								}
							}
							find_closest_planet  = {
								trigger = {
									id = dreadnought.patrol.22
									has_planet_flag = patrol_2
								}
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = {
										duration = 30
									}
								}
							}
							find_closest_planet  = {
								trigger = {
									id = dreadnought.patrol.33
									has_planet_flag = patrol_3
								}
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = {
										duration = 30
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	change_orbit = 60

	planet = {
		count = 1
		class = "pc_broken"
		size = { min = 10 max = 15 }
		flags = { patrol_2 }		
		
		init_effect = {
			prevent_anomaly = yes
		}
	}

	change_orbit = 30
	
	planet = {
		count = 1
		class = "pc_barren_cold"
		size = { min = 10 max = 20 }
		flags = { patrol_3 }
		
		init_effect = {
			prevent_anomaly = yes					
		}		
	}
}	